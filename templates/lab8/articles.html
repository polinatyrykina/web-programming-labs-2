{% extends "base.html" %}

{% block lab %}Лабораторная работа 8{% endblock %}

{% block main %}
    <h1>Список статей</h1>

    <a href="{{ url_for('lab8.create_article') }}" style="display: inline-block; margin-bottom: 20px; padding: 10px 15px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">Создать новую статью</a>

    <a href="{{ url_for('lab8.lab') }}" style="display: inline-block; margin-bottom: 20px; padding: 10px 15px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px; margin-left: 10px;">Вернуться на главную</a>
    
    {% if articles %}
        <ul>
            {% for article in articles %}
                <li style="margin-bottom: 20px; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    <h2>{{ article.title }}</h2>
                    <p>{{ article.artcicle_text }}</p>
                    <div>
                        <a href="{{ url_for('lab8.edit_article', article_id=article.id) }}" style="padding: 5px 10px; background-color: #28a745; color: white; text-decoration: none; border-radius: 3px; margin-right: 10px;">Редактировать</a>
                        <form action="{{ url_for('lab8.delete_article', article_id=article.id) }}" method="POST" style="display: inline;">
                            <button type="submit" style="padding: 5px 10px; background-color: #dc3545; color: white; border: none; border-radius: 3px; cursor: pointer;">Удалить</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>У вас пока нет статей.</p>
    {% endif %}
{% endblock %}
